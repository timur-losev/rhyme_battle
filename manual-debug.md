# Ручная отладка приложения Rhyme Battle

Если автоматический скрипт отладки (`debug.bat`) не работает, вы можете запустить клиент и сервер вручную следуя этой инструкции.

## 1. Подготовка проекта

Перед началом отладки убедитесь, что у вас установлены все необходимые зависимости:

```bash
# Установка зависимостей клиента
cd client
npm install
npm install --save-dev http-proxy-middleware cross-env
cd ..

# Установка зависимостей сервера
cd server
npm install
npm install cors dotenv
cd ..
```

## 2. Запуск сервера

Откройте новое окно терминала и выполните следующие команды:

```bash
cd server
set DEBUG=true
node --inspect=9229 src/index.js
```

Сервер должен запуститься и слушать на порту 5101.

## 3. Запуск клиента

Откройте **отдельное** окно терминала и выполните следующие команды:

```bash
cd client
set REACT_APP_DEBUG=true
set PORT=3000
set BROWSER=none
npm start
```

После успешного запуска клиента вы увидите сообщение "Compiled successfully!" и информацию о том, что приложение запущено на http://localhost:3000.

## 4. Открытие приложения в браузере

Вручную откройте браузер и перейдите по адресу:
```
http://localhost:3000
```

## 5. Отладка сервера

Для отладки сервера:
1. Откройте Chrome
2. Перейдите по адресу `chrome://inspect/#devices`
3. В разделе "Remote Target" вы должны увидеть ваше приложение Node.js
4. Нажмите на ссылку "inspect" для начала отладки

## 6. Отладка клиента

Для отладки клиента:
1. Откройте приложение в браузере (http://localhost:3000)
2. Нажмите F12 или правой кнопкой мыши -> "Inspect"
3. Перейдите на вкладку "Console" для просмотра логов
4. Перейдите на вкладку "Sources" для установки точек останова

## Устранение проблем

### Не запускается сервер

Проверьте:
1. Что порт 5101 не занят другим приложением
2. Наличие всех необходимых зависимостей
3. Правильность конфигурации в файлах .env

Для проверки порта выполните:
```bash
# Windows
netstat -ano | findstr :5101
# Затем завершите процесс, если порт занят
taskkill /F /PID <номер_процесса>
```

### Не запускается клиент

Проверьте:
1. Что порт 3000 не занят
2. Наличие всех зависимостей
3. Правильность настройки прокси в setupProxy.js

### Ошибка "This site can't be reached"

1. Убедитесь, что клиент запущен и выводит сообщение "Compiled successfully!"
2. Проверьте, что порт не блокируется брандмауэром
3. Попробуйте использовать разные браузеры
4. Очистите кэш браузера
5. Проверьте, что в консоли клиента нет ошибок запуска

### Клиент запускается, но не подключается к серверу

1. Убедитесь, что сервер действительно запущен и отвечает
2. Проверьте настройки CORS на сервере
3. Проверьте URL подключения в клиентском коде

Для проверки работы сервера:
```bash
curl http://localhost:5101/api/health
```

Если сервер работает, вы должны получить ответ с JSON-данными. 