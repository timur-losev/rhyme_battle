# Rhythm Battle - Карточная игра-баттл с рифмованными куплетами

Rhythm Battle - это интерактивная карточная игра, в которой игроки сражаются друг с другом, используя карты с рифмованными куплетами. Игра сочетает в себе элементы стратегии и тактического планирования.

## Особенности игры

- **Карточная система**: Каждая карта содержит рифмованный куплет и обладает особыми эффектами
- **Стратегический геймплей**: Выбирайте карты для своей колоды, планируйте комбинации и блокируйте атаки противника
- **Многопользовательский режим**: Сражайтесь с друзьями онлайн в реальном времени
- **Специальные события**: Случайные события в игре добавляют непредсказуемости и требуют адаптации стратегии
- **Тестовый режим**: Для быстрой отладки доступны тестовые карты

## Игровой процесс

1. **Подготовка к бою**: Игроки выбирают по 5 карт для своей колоды
2. **Пошаговый бой**: Игроки по очереди разыгрывают карты, применяя их эффекты
3. **Стратегические элементы**: Используйте атакующие карты, защитные блоки, комбо-карты и специальные эффекты
4. **Система очков**: Каждая карта приносит очки, а победителем становится игрок с наибольшим количеством очков после 3 раундов

## Типы карт

- **Атакующие карты**: Наносят урон противнику и приносят очки
- **Защитные карты**: Блокируют часть урона от атак противника
- **Комбо-карты**: Усиливают эффект при последовательном разыгрывании определенных карт
- **Специальные карты**: Обладают уникальными эффектами, меняющими ход игры

## Технический стек

### Клиентская часть
- React.js
- Socket.io-client для реал-тайм коммуникации
- Tailwind CSS для стилизации
- React Router для навигации
- Context API для управления состоянием

### Серверная часть
- Node.js с Express
- Socket.io для обработки событий в реальном времени
- MongoDB с Mongoose для хранения данных
- JWT для аутентификации

## Установка и запуск

### Предварительные требования
- Node.js (v14+)
- MongoDB
- npm или yarn

### Установка

1. Клонируйте репозиторий:
```
git clone https://github.com/yourusername/rhythm-battle.git
cd rhythm-battle
```

2. Установите зависимости для сервера:
```
cd server
npm install
```

3. Установите зависимости для клиента:
```
cd ../client
npm install
```

4. Создайте файл `.env` в папке `server` со следующими переменными:
```
PORT=5101
MONGODB_URI=mongodb://localhost:27017/rhythm-battle
TOKEN_SECRET=your_jwt_secret_key
```

### Запуск

1. Запустите сервер:
```
cd server
npm run dev
```

2. В отдельном терминале запустите клиент:
```
cd client
npm start
```

3. Откройте браузер и перейдите по адресу `http://localhost:3000`

## API и Socket.io события

### REST API

- `POST /api/auth/register` - Регистрация нового пользователя
- `POST /api/auth/login` - Авторизация пользователя
- `GET /api/cards` - Получение списка всех карт
- `GET /api/users/profile` - Получение профиля текущего пользователя

### Socket.io события

#### Клиент -> Сервер
- `createRoom` - Создание новой игровой комнаты
- `joinRoom` - Присоединение к существующей комнате
- `leaveRoom` - Выход из комнаты
- `getRoomState` - Запрос актуального состояния комнаты
- `selectCards` - Выбор карт для баттла
- `playCard` - Разыгрывание карты в бою

#### Сервер -> Клиент
- `roomCreated` - Комната успешно создана
- `joinedRoom` - Успешное присоединение к комнате
- `playerJoined` - Другой игрок присоединился к комнате
- `roomState` - Актуальное состояние комнаты
- `cardsSelected` - Подтверждение выбора карт
- `playerReady` - Игрок готов к началу баттла
- `battleStart` - Начало баттла
- `cardPlayed` - Карта сыграна
- `gameEnded` - Игра завершена

## Структура проекта

```
rhythm-battle/
├── client/               # Клиентская часть (React)
│   ├── public/           # Статические файлы
│   └── src/              # Исходный код
│       ├── components/   # React компоненты
│       ├── contexts/     # Контексты для управления состоянием
│       ├── pages/        # Страницы приложения
│       └── utils/        # Вспомогательные функции
├── server/               # Серверная часть (Node.js)
│   ├── src/
│   │   ├── controllers/  # Контроллеры API
│   │   ├── models/       # Mongoose модели
│   │   ├── routes/       # Маршруты API
│   │   └── services/     # Сервисы
│   └── index.js          # Точка входа сервера
└── README.md             # Документация проекта
```

## Особенности реализации

- **Система комнат**: Позволяет создавать изолированные игровые сессии для пар игроков
- **Реактивный интерфейс**: Мгновенные обновления состояния игры с использованием WebSocket
- **Управление состоянием**: Context API для глобального состояния на клиенте
- **Тестовый режим**: Автоматическая генерация тестовых карт для быстрой разработки

## Лицензия

MIT

## Авторы

- Команда Rhythm Battle 