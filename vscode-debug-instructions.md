# Инструкция по отладке в VSCode

## Настройка отладки через VSCode

Теперь проект настроен для правильной отладки через VSCode. У вас есть несколько способов запуска:

### 1. Запуск через комбинированную конфигурацию (рекомендуется)

1. Нажмите `F5` или выберите "Run and Debug" в боковой панели
2. Из выпадающего списка выберите "Server + Client"
3. Нажмите кнопку запуска (зеленый треугольник)

Это запустит:
- Сначала task для завершения всех процессов node.js
- Затем сервер в режиме отладки с инспектором на порту 9229
- После этого клиентское приложение через npm
- И откроет браузер с клиентским приложением

### 2. Запуск через задачи (Tasks)

Как альтернатива, вы можете использовать настроенные задачи:

1. Нажмите `Ctrl+Shift+P` для открытия палитры команд
2. Введите "Run Task" и выберите эту команду
3. Из списка выберите "start-all"

Это запустит процессы в том же порядке, но через задачи VSCode.

### 3. Запуск отдельных компонентов

Если вам нужно запустить только сервер или только клиент:

#### Только сервер:
1. Выберите конфигурацию "Server" из выпадающего списка
2. Нажмите F5 для запуска

#### Только клиент: 
1. Выберите конфигурацию "Client" из выпадающего списка
2. Нажмите F5 для запуска

#### Отладка в Chrome:
1. Запустите сервер и клиент
2. Выберите конфигурацию "Chrome Debug"
3. Нажмите F5 для запуска Chrome с отладчиком

## Устранение проблем

### Не запускается отладка

1. Проверьте, что все процессы node.js завершены перед запуском
2. Убедитесь, что у вас установлен расширение VSCode для отладки JavaScript/Node.js
3. Проверьте, что установлены все зависимости через `npm install` в папках client и server

### Не открывается браузер

Браузер запускается автоматически когда сервер и клиент готовы, но если это не происходит:

1. Дождитесь сообщения "You can now view ... in the browser" в терминале клиента
2. Вручную откройте http://localhost:3000

### Браузер открывается, но показывает "This site can't be reached"

1. Убедитесь, что клиент успешно запустился (должно быть сообщение "Compiled successfully")
2. Проверьте, что порт 3000 не занят другим процессом
3. Попробуйте открыть URL в другом браузере
4. Проверьте logLevel в setupProxy.js и включите отладку прокси

### Не удается подключиться к серверу из клиента

1. Проверьте, что сервер запущен и слушает на порту 5101
2. Убедитесь, что CORS настроен правильно в server/src/index.js
3. Проверьте сетевые запросы в DevTools (вкладка Network)
4. Проверьте настройки API_URL в .env файле клиента

### Порты заняты

Если порты 3000 или 5101 заняты другими процессами:

```bash
# Найти и закрыть процесс на порту 3000
netstat -ano | findstr :3000
taskkill /F /PID <номер_процесса>

# Найти и закрыть процесс на порту 5101
netstat -ano | findstr :5101
taskkill /F /PID <номер_процесса>
``` 